import{a0 as y,j as t,y as r,a as d}from"./index-D0yRYkRK.js";import{d as T,g as P,w as W,k as E,j as M,n as D,t as G,o as H,f as O,s as I,x as U}from"./useMergeRef-Ch7lRZ9Z.js";import{A as V}from"./index-BsIi-NiL.js";import{m as K}from"./proxy-CceN8Kfo.js";import{a as L}from"./floating-ui.dom-CV1Qg3mg.js";function F(s){return y({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"},child:[]}]})(s)}function $(s){return y({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"m3.86 8.753 5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z"},child:[]}]})(s)}function A(s){return y({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"},child:[]}]})(s)}function S(s){return y({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"m7.247 4.86-4.796 5.481c-.566.647-.106 1.659.753 1.659h9.592a1 1 0 0 0 .753-1.659l-4.796-5.48a1 1 0 0 0-1.506 0z"},child:[]}]})(s)}const X=({placement:s,color:i})=>{const e=`absolute ${i}`,n=()=>{switch(s){case"top":return t.jsx(F,{className:r(e,"-bottom-2 w-full left-0")});case"top-start":return t.jsx(F,{className:r(e,"-bottom-2 left-0 ml-3")});case"top-end":return t.jsx(F,{className:r(e,"-bottom-2 right-0 mr-3")});case"right":return t.jsx($,{className:r(e,"-left-2 top-1/2 transform -translate-y-1/2")});case"right-start":return t.jsx($,{className:r(e,"-left-2 top-2")});case"right-end":return t.jsx($,{className:r(e,"-left-2 bottom-2")});case"bottom":return t.jsx(S,{className:r(e,"-top-2 w-full left-0")});case"bottom-start":return t.jsx(S,{className:r(e,"-top-2 left-0 ml-3")});case"bottom-end":return t.jsx(S,{className:r(e,"-top-2 right-0 mr-3")});case"left":return t.jsx(A,{className:r(e,"-right-2 top-1/2 transform -translate-y-1/2")});case"left-start":return t.jsx(A,{className:r(e,"-right-2 top-2")});case"left-end":return t.jsx(A,{className:r(e,"-right-2 bottom-2")})}};return t.jsx("div",{children:n()})},k=s=>{const{className:i,children:e,isOpen:n=!1,placement:u="top",title:m,wrapperClass:a,disabled:g}=s,[x,v]=d.useState(n),o={background:"bg-gray-800 dark:bg-black",arrow:"text-gray-800 dark:text-black"},j=`tooltip ${o.background}`,{refs:p,floatingStyles:c,context:l}=T({open:n,onOpenChange:B=>{g||v(B)},placement:u,whileElementsMounted:L,middleware:[H(7),O({fallbackAxisSideDirection:"start"}),I()]}),N=P(l,{move:!1}),b=W(l),C=E(l),w=M(l,{role:"tooltip"}),{getReferenceProps:f,getFloatingProps:h}=D([N,b,C,w]);return t.jsxs(t.Fragment,{children:[t.jsx("span",{ref:p.setReference,...f(),className:r("tooltip-wrapper",a),children:e}),t.jsx(G,{children:x&&t.jsx(V,{children:t.jsxs(K.div,{ref:p.setFloating,className:r(j,i),initial:{opacity:0,visibility:"hidden"},animate:x?{opacity:1,visibility:"visible"}:{opacity:0,visibility:"hidden"},transition:{duration:.15,type:"tween"},style:c,...h(),children:[t.jsx("span",{children:m}),t.jsx(X,{placement:l.placement,color:o.arrow})]})})})]})};k.displayName="Tooltip";const R=s=>{const{alt:i,className:e,icon:n,ref:u=null,shape:m="circle",size:a="md",src:g,srcSet:x,...v}=s;let{children:o}=s;const[j,p]=d.useState(1),c=d.useRef(null),l=d.useRef(null),N=U(u,l),b=()=>{if(!c.current||!l.current)return;const f=c.current.offsetWidth,h=l.current.offsetWidth;f===0||h===0||p(h-8<f?(h-8)/f:1)};d.useEffect(()=>{b()},[j,o]);const C=typeof a=="number"?{width:a,height:a,minWidth:a,lineHeight:`${a}px`,fontSize:n?a/2:12}:{},w=r("avatar",`avatar-${m}`,typeof a=="string"?`avatar-${a}`:"",e);if(g)o=t.jsx("img",{className:`avatar-img avatar-${m}`,src:g,srcSet:x,alt:i,loading:"lazy"});else if(n)o=t.jsx("span",{className:r("avatar-icon",`avatar-icon-${a}`),children:n});else{const f=typeof a=="number"?{lineHeight:`${a}px`}:{},h={transform:`translateX(-50%) scale(${j})`};o=t.jsx("span",{ref:c,className:`avatar-string ${typeof a=="number"?"":`avatar-inner-${a}`}`,style:{...f,...h,...typeof a=="number"?{height:a}:{}},children:o})}return t.jsx("span",{ref:N,className:w,style:{...C,...v.style},...v,children:o})},z=({children:s,chained:i,className:e})=>t.jsx("div",{className:r("avatar-group",i&&"avatar-group-chained",e),children:s}),q=s=>{const{chained:i=!1,children:e,className:n,maxCount:u=4,onOmittedAvatarClick:m,omittedAvatarContent:a,omittedAvatarProps:g,omittedAvatarTooltip:x=!1,omittedAvatarTooltipProps:v}=s,o=d.Children.count(e),j=d.Children.toArray(e).map((p,c)=>d.cloneElement(p,{key:`grouped-avatar-${c}`}));if(u&&u<o){const p=j.slice(0,u),c=o-u,l=t.jsx(R,{className:m?"cursor-pointer":"",onClick:()=>m==null?void 0:m(),...g,children:a||`+${c}`});return p.push(x?t.jsx(k,{title:`${c} More`,...v,children:t.jsx(t.Fragment,{children:l})},"avatar-more-tooltip"):t.jsx(d.Fragment,{children:l},"avatar-more-tooltip")),t.jsx(z,{className:n,chained:i,children:p})}return t.jsx(z,{className:n,chained:i,children:e})},J=R;J.Group=q;export{J as A,k as T,R as a};
