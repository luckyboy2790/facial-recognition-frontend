import{a as r,j as n,Z as $,y as q}from"./index-D0yRYkRK.js";import{T as z}from"./index-B0EMbVo3.js";import{P as G}from"./cloneDeep-6-NADjKH.js";import{S as J}from"./Select-B-WXjZfd.js";import{C as K}from"./index-2Mnet4ey.js";import{u as Q,f as N,T as U,F as X,g as Y,a as ee,b as te,c as ne}from"./index-BerKXuJv.js";const{Tr:b,Th:se,Td:P,THead:oe,TBody:ae,Sorter:le}=z,y=x=>{const{indeterminate:d,onChange:u,onCheckBoxChange:a,onIndeterminateCheckBoxChange:c,...s}=x,i=r.useRef(null);r.useEffect(()=>{typeof d=="boolean"&&i.current&&(i.current.indeterminate=!s.checked&&d)},[i,d]);const g=o=>{u(o),a==null||a(o),c==null||c(o)};return n.jsx(K,{ref:i,className:"mb-0",onChange:(o,m)=>g(m),...s})};function ue(x){const{skeletonAvatarColumns:d,columns:u=[],data:a=[],customNoDataIcon:c,loading:s,noData:i,onCheckBoxChange:g,onIndeterminateCheckBoxChange:o,onPaginationChange:m,onSelectChange:p,onSort:S,pageSizes:k=[10,25,50,100],selectable:v=!1,skeletonAvatarProps:D,pagingData:w={total:0,pageIndex:1,pageSize:10},checkboxChecked:f,indeterminateCheckboxChecked:T,instanceId:A="data-table",ref:F,...H}=x,{pageSize:j,pageIndex:E,total:B}=w,[l,O]=r.useState(null),M=r.useMemo(()=>k.map(t=>({value:t,label:`${t} / page`})),[k]);r.useEffect(()=>{if(Array.isArray(l)){const t=l.length>0?l[0].desc?"desc":"asc":"",e=l.length>0?l[0].id:"";S==null||S({order:t,key:e})}},[l]);const L=(t,e)=>{s||o==null||o(t,e)},V=(t,e)=>{s||g==null||g(t,e)},C=r.useMemo(()=>{const t=u;return v?[{id:"select",maxSize:50,header:({table:e})=>n.jsx(y,{checked:T?T(e.getRowModel().rows):e.getIsAllRowsSelected(),indeterminate:e.getIsSomeRowsSelected(),onChange:e.getToggleAllRowsSelectedHandler(),onIndeterminateCheckBoxChange:R=>{L(R.target.checked,e.getRowModel().rows)}}),cell:({row:e})=>n.jsx(y,{checked:f?f(e.original):e.getIsSelected(),disabled:!e.getCanSelect(),indeterminate:e.getIsSomeSelected(),onChange:e.getToggleSelectedHandler(),onCheckBoxChange:R=>V(R.target.checked,e.original)})},...t]:t},[u,v,s,f]),h=Q({data:a,columns:C,getCoreRowModel:Y(),getFilteredRowModel:ee(),getPaginationRowModel:te(),getSortedRowModel:ne(),manualPagination:!0,manualSorting:!0,onSortingChange:t=>{O(t)},state:{sorting:l}}),W=()=>{h.resetSorting()},I=()=>{h.resetRowSelection(!0)};r.useImperativeHandle(F,()=>({resetSorting:W,resetSelected:I}));const Z=t=>{s||(I(),m==null||m(t))},_=t=>{s||p==null||p(Number(t))};return n.jsxs($,{loading:!!(s&&a.length!==0),type:"cover",children:[n.jsxs(z,{...H,children:[n.jsx(oe,{children:h.getHeaderGroups().map(t=>n.jsx(b,{children:t.headers.map(e=>n.jsx(se,{colSpan:e.colSpan,children:e.isPlaceholder?null:n.jsxs("div",{className:q(e.column.getCanSort()&&"cursor-pointer select-none point",s&&"pointer-events-none"),onClick:e.column.getToggleSortingHandler(),children:[N(e.column.columnDef.header,e.getContext()),e.column.getCanSort()&&n.jsx(le,{sort:e.column.getIsSorted()})]})},e.id))},t.id))}),s&&a.length===0?n.jsx(U,{columns:C.length,rows:w.pageSize,avatarInColumns:d,avatarProps:D}):n.jsx(ae,{children:i?n.jsx(b,{children:n.jsx(P,{className:"hover:bg-transparent",colSpan:C.length,children:n.jsx("div",{className:"flex flex-col items-center gap-4",children:c||n.jsxs(n.Fragment,{children:[n.jsx(X,{}),n.jsx("span",{className:"font-semibold",children:"No data found!"})]})})})}):h.getRowModel().rows.slice(0,j).map(t=>n.jsx(b,{children:t.getVisibleCells().map(e=>n.jsx(P,{style:{width:e.column.getSize()},children:N(e.column.columnDef.cell,e.getContext())},e.id))},t.id))})]}),n.jsxs("div",{className:"flex items-center justify-between mt-4",children:[n.jsx(G,{pageSize:j,currentPage:E,total:B,onChange:Z}),n.jsx("div",{style:{minWidth:130},children:n.jsx(J,{instanceId:A,size:"sm",menuPlacement:"top",isSearchable:!1,value:M.filter(t=>t.value===j),options:M,onChange:t=>_(t==null?void 0:t.value)})})]})]})}export{ue as D};
