import{W as p,a as f,j as e,Y as w,Z as N,i as g}from"./index-D0yRYkRK.js";import{C as m}from"./Card-CWfRWYfe.js";import{T as d}from"./index-CI41wOCL.js";import{l as v,B as y,m as b}from"./Button-BDkok-2I.js";import{T as D,a as C}from"./index-BAiP7mQm.js";import{t as _,N as S}from"./toast-CHrgrvAn.js";import{C as T}from"./ConfirmDialog-DLSh7DuB.js";import{c as E,e as P}from"./employeeService-8m6wHAGi.js";import{u as O}from"./index-x4T1Tg8z.js";import"./useControllableState-DfqdUqDh.js";import"./classNames-CVFWYafE.js";import"./useMergeRef-Ch7lRZ9Z.js";import"./floating-ui.dom-CV1Qg3mg.js";import"./index-BsIi-NiL.js";import"./proxy-CceN8Kfo.js";import"./StatusIcon-BDOIg_yW.js";import"./CloseButton-V3ZvNBNU.js";import"./Dialog-B-jFmH1-.js";import"./index-C6AgsrmA.js";import"./index-Chjiymov.js";const L="http://localhost:5000";function A(s){return new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}const n=({title:s,value:l})=>e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:s}),e.jsx("p",{className:"heading-text font-bold",children:l})]}),F=({data:s})=>{console.log(s);const l=p(),[a,i]=f.useState(!1),t=()=>{i(!1)},x=()=>{i(!0)},u=async()=>{i(!1);const j=[s._id];await E({employeeIds:j}),l("/employees"),_.push(e.jsx(S,{title:"Successfully Deleted",type:"success",children:"Customer successfuly deleted"}))},h=()=>{l(`/employee-edit/${s._id}`)};return e.jsxs(m,{className:"w-full",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx(D,{title:"Edit customer",children:e.jsx("button",{className:"close-button button-press-feedback",type:"button",onClick:h,children:e.jsx(v,{})})})}),e.jsxs("div",{className:"flex flex-col xl:justify-between h-full 2xl:min-w-[360px] mx-auto",children:[e.jsxs("div",{className:"flex xl:flex-col items-center gap-4 mt-6",children:[e.jsx(C,{size:90,shape:"circle",src:`${L}${s.img}`}),e.jsx("h4",{className:"font-bold",children:s.full_name})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-1 gap-y-7 gap-x-4 mt-10",children:[e.jsx(n,{title:"Email",value:s.email}),e.jsx(n,{title:"Phone",value:s==null?void 0:s.phone_number}),e.jsx(n,{title:"Date of birth",value:A(s==null?void 0:s.birthday)})]}),e.jsx("div",{className:"flex flex-col gap-4 pt-7",children:e.jsx(y,{block:!0,customColorClass:()=>"text-error hover:border-error hover:ring-1 ring-error hover:text-error",icon:e.jsx(b,{}),onClick:x,children:"Delete"})}),e.jsx(T,{isOpen:a,type:"danger",title:"Delete customer",onClose:t,onRequestClose:t,onCancel:t,onConfirm:u,children:e.jsx("p",{children:"Are you sure you want to delete this customer? All record related to this customer will be deleted as well. This action cannot be undone."})})]})]})},I=({data:s})=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"w-full flex justify-between",children:[e.jsx("p",{className:"mt-8 w-2/5",children:"Civil Status"}),e.jsx("p",{className:"mt-8 w-3/5",children:s.civil_status})]}),e.jsxs("div",{className:"w-full flex justify-between",children:[e.jsx("p",{className:"mt-8 w-2/5",children:"Age"}),e.jsx("p",{className:"mt-8 w-3/5",children:s.age})]}),e.jsxs("div",{className:"w-full flex justify-between",children:[e.jsx("p",{className:"mt-8 w-2/5",children:"Height (cm)"}),e.jsx("p",{className:"mt-8 w-3/5",children:s.height})]}),e.jsxs("div",{className:"w-full flex justify-between",children:[e.jsx("p",{className:"mt-8 w-2/5",children:"Weight (pounds)"}),e.jsx("p",{className:"mt-8 w-3/5",children:s.weight})]}),e.jsxs("div",{className:"w-full flex justify-between",children:[e.jsx("p",{className:"mt-8 w-2/5",children:"Gender"}),e.jsx("p",{className:"mt-8 w-3/5",children:s.gender})]}),e.jsxs("div",{className:"w-full flex justify-between",children:[e.jsx("p",{className:"mt-8 w-2/5",children:"Place of Birth"}),e.jsx("p",{className:"mt-8 w-3/5",children:s.place_of_birth})]}),e.jsxs("div",{className:"w-full flex justify-between",children:[e.jsx("p",{className:"mt-8 w-2/5",children:"Home Address"}),e.jsx("p",{className:"mt-8 w-3/5",children:s.address})]}),e.jsxs("div",{className:"w-full flex justify-between",children:[e.jsx("p",{className:"mt-8 w-2/5",children:"National ID"}),e.jsx("p",{className:"mt-8 w-3/5",children:s.national_id})]})]});function c(s){return new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}const k=({data:s})=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"w-full flex justify-between",children:[e.jsx("p",{className:"mt-8 w-2/5",children:"Company"}),e.jsx("p",{className:"mt-8 w-3/5",children:s.company.company_name})]}),e.jsxs("div",{className:"w-full flex justify-between",children:[e.jsx("p",{className:"mt-8 w-2/5",children:"Department"}),e.jsx("p",{className:"mt-8 w-3/5",children:s.department.department_name})]}),e.jsxs("div",{className:"w-full flex justify-between",children:[e.jsx("p",{className:"mt-8 w-2/5",children:"Position"}),e.jsx("p",{className:"mt-8 w-3/5",children:s.job_title.job_title})]}),e.jsxs("div",{className:"w-full flex justify-between",children:[e.jsx("p",{className:"mt-8 w-2/5",children:"Leave Privilege"}),e.jsx("p",{className:"mt-8 w-3/5",children:s.leave_group.group_name})]}),e.jsxs("div",{className:"w-full flex justify-between",children:[e.jsx("p",{className:"mt-8 w-2/5",children:"Employment Type"}),e.jsx("p",{className:"mt-8 w-3/5",children:s.employee_type})]}),e.jsxs("div",{className:"w-full flex justify-between",children:[e.jsx("p",{className:"mt-8 w-2/5",children:"Employement Status"}),e.jsx("p",{className:"mt-8 w-3/5",children:s.employee_status})]}),e.jsxs("div",{className:"w-full flex justify-between",children:[e.jsx("p",{className:"mt-8 w-2/5",children:"Official Start Date"}),e.jsx("p",{className:"mt-8 w-3/5",children:c(s.official_start_date)})]}),e.jsxs("div",{className:"w-full flex justify-between",children:[e.jsx("p",{className:"mt-8 w-2/5",children:"Date Regularized"}),e.jsx("p",{className:"mt-8 w-3/5",children:c(s.date_regularized)})]})]}),{TabNav:r,TabList:H,TabContent:o}=d,ie=()=>{const{id:s}=w(),{data:l,isLoading:a}=O(["/api/customers",{id:s}],([i,t])=>P(t),{revalidateOnFocus:!1,revalidateIfStale:!1,evalidateOnFocus:!1});return e.jsx(N,{loading:a,children:!g(l)&&e.jsxs("div",{className:"flex flex-col xl:flex-row gap-4",children:[e.jsx("div",{className:"min-w-[330px] 2xl:min-w-[400px]",children:e.jsx(F,{data:l.data})}),e.jsx(m,{className:"w-full",children:e.jsxs(d,{defaultValue:"personal",children:[e.jsxs(H,{children:[e.jsx(r,{value:"personal",children:"Personal Information"}),e.jsx(r,{value:"designation",children:"Designation"})]}),e.jsxs("div",{className:"p-4",children:[e.jsx(o,{value:"personal",children:e.jsx(I,{data:l.data})}),e.jsx(o,{value:"designation",children:e.jsx(k,{data:l.data})})]})]})})]})})};export{ie as default};
