import{q as ne,$ as Dt,a as w}from"./index-D0yRYkRK.js";var ut={exports:{}},lt={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qt;function re(){if(qt)return lt;qt=1;var t=ne();function e(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,u=t.useEffect,s=t.useLayoutEffect,i=t.useDebugValue;function h(a,l){var f=l(),C=r({inst:{value:f,getSnapshot:l}}),d=C[0].inst,P=C[1];return s(function(){d.value=f,d.getSnapshot=l,p(d)&&P({inst:d})},[a,f,l]),u(function(){return p(d)&&P({inst:d}),a(function(){p(d)&&P({inst:d})})},[a]),i(f),f}function p(a){var l=a.getSnapshot;a=a.value;try{var f=l();return!n(a,f)}catch{return!0}}function y(a,l){return l()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?y:h;return lt.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:v,lt}var Mt;function se(){return Mt||(Mt=1,ut.exports=re()),ut.exports}var oe=se(),Pt=Object.prototype.hasOwnProperty;function St(t,e){var n,r;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&St(t[r],e[r]););return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(Pt.call(t,n)&&++r&&!Pt.call(e,n)||!(n in e)||!St(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}const U=new WeakMap,q=()=>{},D=q(),mt=Object,c=t=>t===D,N=t=>typeof t=="function",M=(t,e)=>({...t,...e}),kt=t=>N(t.then),ft={},st={},Ct="undefined",it=typeof window!=Ct,vt=typeof document!=Ct,ie=()=>it&&typeof window.requestAnimationFrame!=Ct,zt=(t,e)=>{const n=U.get(t);return[()=>!c(e)&&t.get(e)||ft,r=>{if(!c(e)){const u=t.get(e);e in st||(st[e]=u),n[5](e,M(u,r),u||ft)}},n[6],()=>!c(e)&&e in st?st[e]:!c(e)&&t.get(e)||ft]};let Tt=!0;const ae=()=>Tt,[_t,gt]=it&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[q,q],ce=()=>{const t=vt&&document.visibilityState;return c(t)||t!=="hidden"},ue=t=>(vt&&document.addEventListener("visibilitychange",t),_t("focus",t),()=>{vt&&document.removeEventListener("visibilitychange",t),gt("focus",t)}),le=t=>{const e=()=>{Tt=!0,t()},n=()=>{Tt=!1};return _t("online",e),_t("offline",n),()=>{gt("online",e),gt("offline",n)}},fe={isOnline:ae,isVisible:ce},de={initFocus:ue,initReconnect:le},jt=!Dt.useId,Z=!it||"Deno"in globalThis,Ee=t=>ie()?window.requestAnimationFrame(t):setTimeout(t,1),dt=Z?w.useEffect:w.useLayoutEffect,Et=typeof navigator<"u"&&navigator.connection,Ht=!Z&&Et&&(["slow-2g","2g"].includes(Et.effectiveType)||Et.saveData),ot=new WeakMap,Rt=(t,e)=>mt.prototype.toString.call(t)===`[object ${e}]`;let Re=0;const wt=t=>{const e=typeof t,n=Rt(t,"Date"),r=Rt(t,"RegExp"),u=Rt(t,"Object");let s,i;if(mt(t)===t&&!n&&!r){if(s=ot.get(t),s)return s;if(s=++Re+"~",ot.set(t,s),Array.isArray(t)){for(s="@",i=0;i<t.length;i++)s+=wt(t[i])+",";ot.set(t,s)}if(u){s="#";const h=mt.keys(t).sort();for(;!c(i=h.pop());)c(t[i])||(s+=i+":"+wt(t[i])+",");ot.set(t,s)}}else s=n?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return s},yt=t=>{if(N(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?wt(t):"",[t,e]};let he=0;const Ot=()=>++he,Bt=0,Gt=1,Jt=2,pe=3;var Q={__proto__:null,ERROR_REVALIDATE_EVENT:pe,FOCUS_EVENT:Bt,MUTATE_EVENT:Jt,RECONNECT_EVENT:Gt};async function Kt(...t){const[e,n,r,u]=t,s=M({populateCache:!0,throwOnError:!0},typeof u=="boolean"?{revalidate:u}:u||{});let i=s.populateCache;const h=s.rollbackOnError;let p=s.optimisticData;const y=l=>typeof h=="function"?h(l):h!==!1,v=s.throwOnError;if(N(n)){const l=n,f=[],C=e.keys();for(const d of C)!/^\$(inf|sub)\$/.test(d)&&l(e.get(d)._k)&&f.push(d);return Promise.all(f.map(a))}return a(n);async function a(l){const[f]=yt(l);if(!f)return;const[C,d]=zt(e,f),[P,o,tt,Y]=U.get(e),W=()=>{const I=P[f];return(N(s.revalidate)?s.revalidate(C().data,l):s.revalidate!==!1)&&(delete tt[f],delete Y[f],I&&I[0])?I[0](Jt).then(()=>C().data):C().data};if(t.length<3)return W();let _=r,A;const H=Ot();o[f]=[H,0];const m=!c(p),$=C(),L=$.data,k=$._c,j=c(k)?L:k;if(m&&(p=N(p)?p(j,L):p,d({data:p,_c:j})),N(_))try{_=_(j)}catch(I){A=I}if(_&&kt(_))if(_=await _.catch(I=>{A=I}),H!==o[f][0]){if(A)throw A;return _}else A&&m&&y(A)&&(i=!0,d({data:j,_c:D}));if(i&&!A)if(N(i)){const I=i(_,j);d({data:I,error:D,_c:D})}else d({data:_,error:D,_c:D});if(o[f][1]=Ot(),Promise.resolve(W()).then(()=>{d({_c:D})}),A){if(v)throw A;return}return _}}const $t=(t,e)=>{for(const n in t)t[n][0]&&t[n][0](e)},Se=(t,e)=>{if(!U.has(t)){const n=M(de,e),r={},u=Kt.bind(D,t);let s=q;const i={},h=(v,a)=>{const l=i[v]||[];return i[v]=l,l.push(a),()=>l.splice(l.indexOf(a),1)},p=(v,a,l)=>{t.set(v,a);const f=i[v];if(f)for(const C of f)C(a,l)},y=()=>{if(!U.has(t)&&(U.set(t,[r,{},{},{},u,p,h]),!Z)){const v=n.initFocus(setTimeout.bind(D,$t.bind(D,r,Bt))),a=n.initReconnect(setTimeout.bind(D,$t.bind(D,r,Gt)));s=()=>{v&&v(),a&&a(),U.delete(t)}}};return y(),[t,u,y,s]}return[t,U.get(t)[4]]},me=(t,e,n,r,u)=>{const s=n.errorRetryCount,i=u.retryCount,h=~~((Math.random()+.5)*(1<<(i<8?i:8)))*n.errorRetryInterval;!c(s)&&i>s||setTimeout(r,h,u)},ve=St,[Yt,Te]=Se(new Map),_e=M({onLoadingSlow:q,onSuccess:q,onError:q,onErrorRetry:me,onDiscarded:q,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Ht?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:Ht?5e3:3e3,compare:ve,isPaused:()=>!1,cache:Yt,mutate:Te,fallback:{}},fe),ge=(t,e)=>{const n=M(t,e);if(e){const{use:r,fallback:u}=t,{use:s,fallback:i}=e;r&&s&&(n.use=r.concat(s)),u&&i&&(n.fallback=M(u,i))}return n},we=w.createContext({}),Oe="$inf$",Xt=it&&window.__SWR_DEVTOOLS_USE__,De=Xt?window.__SWR_DEVTOOLS_USE__:[],Ce=()=>{Xt&&(window.__SWR_DEVTOOLS_REACT__=Dt)},ye=t=>N(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(t[1]===null?t[2]:t[1])||{}],Ae=()=>M(_e,w.useContext(we)),Ve=t=>(e,n,r)=>t(e,n&&((...s)=>{const[i]=yt(e),[,,,h]=U.get(Yt);if(i.startsWith(Oe))return n(...s);const p=h[i];return c(p)?n(...s):(delete h[i],p)}),r),Ie=De.concat(Ve),Le=t=>function(...n){const r=Ae(),[u,s,i]=ye(n),h=ge(r,i);let p=t;const{use:y}=h,v=(y||[]).concat(Ie);for(let a=v.length;a--;)p=v[a](p);return p(u,s||h.fetcher||null,h)},be=(t,e,n)=>{const r=e[t]||(e[t]=[]);return r.push(n),()=>{const u=r.indexOf(n);u>=0&&(r[u]=r[r.length-1],r.pop())}};Ce();const ht=Dt.use||(t=>{switch(t.status){case"pending":throw t;case"fulfilled":return t.value;case"rejected":throw t.reason;default:throw t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t}}),pt={dedupe:!0},Ne=(t,e,n)=>{const{cache:r,compare:u,suspense:s,fallbackData:i,revalidateOnMount:h,revalidateIfStale:p,refreshInterval:y,refreshWhenHidden:v,refreshWhenOffline:a,keepPreviousData:l}=n,[f,C,d,P]=U.get(r),[o,tt]=yt(t),Y=w.useRef(!1),W=w.useRef(!1),_=w.useRef(o),A=w.useRef(e),H=w.useRef(n),m=()=>H.current,$=()=>m().isVisible()&&m().isOnline(),[L,k,j,I]=zt(r,o),z=w.useRef({}).current,et=c(i)?c(n.fallback)?D:n.fallback[o]:i,At=(E,R)=>{for(const g in z){const S=g;if(S==="data"){if(!u(E[S],R[S])&&(!c(E[S])||!u(rt,R[S])))return!1}else if(R[S]!==E[S])return!1}return!0},Vt=w.useMemo(()=>{const E=!o||!e?!1:c(h)?m().isPaused()||s?!1:p!==!1:h,R=O=>{const x=M(O);return delete x._k,E?{isValidating:!0,isLoading:!0,...x}:x},g=L(),S=I(),b=R(g),K=g===S?b:R(S);let T=b;return[()=>{const O=R(L());return At(O,T)?(T.data=O.data,T.isLoading=O.isLoading,T.isValidating=O.isValidating,T.error=O.error,T):(T=O,O)},()=>K]},[r,o]),B=oe.useSyncExternalStore(w.useCallback(E=>j(o,(R,g)=>{At(g,R)||E()}),[r,o]),Vt[0],Vt[1]),It=!Y.current,Qt=f[o]&&f[o].length>0,G=B.data,J=c(G)?et&&kt(et)?ht(et):et:G,nt=B.error,Lt=w.useRef(J),rt=l?c(G)?Lt.current:G:J,bt=Qt&&!c(nt)?!1:It&&!c(h)?h:m().isPaused()?!1:s?c(J)?!1:p:c(J)||p,Nt=!!(o&&e&&It&&bt),Zt=c(B.isValidating)?Nt:B.isValidating,te=c(B.isLoading)?Nt:B.isLoading,X=w.useCallback(async E=>{const R=A.current;if(!o||!R||W.current||m().isPaused())return!1;let g,S,b=!0;const K=E||{},T=!d[o]||!K.dedupe,O=()=>jt?!W.current&&o===_.current&&Y.current:o===_.current,x={isValidating:!1,isLoading:!1},Ft=()=>{k(x)},Ut=()=>{const V=d[o];V&&V[1]===S&&delete d[o]},Wt={isValidating:!0};c(L().data)&&(Wt.isLoading=!0);try{if(T&&(k(Wt),n.loadingTimeout&&c(L().data)&&setTimeout(()=>{b&&O()&&m().onLoadingSlow(o,n)},n.loadingTimeout),d[o]=[R(tt),Ot()]),[g,S]=d[o],g=await g,T&&setTimeout(Ut,n.dedupingInterval),!d[o]||d[o][1]!==S)return T&&O()&&m().onDiscarded(o),!1;x.error=D;const V=C[o];if(!c(V)&&(S<=V[0]||S<=V[1]||V[1]===0))return Ft(),T&&O()&&m().onDiscarded(o),!1;const F=L().data;x.data=u(F,g)?F:g,T&&O()&&m().onSuccess(g,o,n)}catch(V){Ut();const F=m(),{shouldRetryOnError:at}=F;F.isPaused()||(x.error=V,T&&O()&&(F.onError(V,o,F),(at===!0||N(at)&&at(V))&&(!m().revalidateOnFocus||!m().revalidateOnReconnect||$())&&F.onErrorRetry(V,o,F,ee=>{const ct=f[o];ct&&ct[0]&&ct[0](Q.ERROR_REVALIDATE_EVENT,ee)},{retryCount:(K.retryCount||0)+1,dedupe:!0})))}return b=!1,Ft(),!0},[o,r]),xt=w.useCallback((...E)=>Kt(r,_.current,...E),[]);if(dt(()=>{A.current=e,H.current=n,c(G)||(Lt.current=G)}),dt(()=>{if(!o)return;const E=X.bind(D,pt);let R=0;const S=be(o,f,(b,K={})=>{if(b==Q.FOCUS_EVENT){const T=Date.now();m().revalidateOnFocus&&T>R&&$()&&(R=T+m().focusThrottleInterval,E())}else if(b==Q.RECONNECT_EVENT)m().revalidateOnReconnect&&$()&&E();else{if(b==Q.MUTATE_EVENT)return X();if(b==Q.ERROR_REVALIDATE_EVENT)return X(K)}});return W.current=!1,_.current=o,Y.current=!0,k({_k:tt}),bt&&(c(J)||Z?E():Ee(E)),()=>{W.current=!0,S()}},[o]),dt(()=>{let E;function R(){const S=N(y)?y(L().data):y;S&&E!==-1&&(E=setTimeout(g,S))}function g(){!L().error&&(v||m().isVisible())&&(a||m().isOnline())?X(pt).then(R):R()}return R(),()=>{E&&(clearTimeout(E),E=-1)}},[y,v,a,o]),w.useDebugValue(rt),s&&c(J)&&o){if(!jt&&Z)throw new Error("Fallback data is required when using Suspense in SSR.");A.current=e,H.current=n,W.current=!1;const E=P[o];if(!c(E)){const R=xt(E);ht(R)}if(c(nt)){const R=X(pt);c(rt)||(R.status="fulfilled",R.value=!0),ht(R)}else throw nt}return{mutate:xt,get data(){return z.data=!0,rt},get error(){return z.error=!0,nt},get isValidating(){return z.isValidating=!0,Zt},get isLoading(){return z.isLoading=!0,te}}},Fe=Le(Ne);export{Fe as u};
