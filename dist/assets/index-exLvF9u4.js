import{j as t,e as _,a0 as ie,a1 as ae,a2 as le,$ as C,a as v,a3 as ce,V as ue,W as de,b as he,R as me}from"./index-D0yRYkRK.js";import{A as pe}from"./AdaptiveCard-C-V2GotN.js";import{A,T as M}from"./index-BAiP7mQm.js";import{T as fe}from"./Tag-BiKNl5cb.js";import{D as ge}from"./DataTable-H1C01gQK.js";import{b as xe}from"./employeeService-8m6wHAGi.js";import{u as ve}from"./index-x4T1Tg8z.js";import{c as B}from"./cloneDeep-6-NADjKH.js";import{k as be,l as Ce,m as je,n as Se,o as ye,p as De,q as Ee,r as Te,s as we,d as ke,c as Ne,g as Re,t as Be,h as Le}from"./index-BF8ULv3O.js";import{D as Ie}from"./DebouceInput-BQU4gTK3.js";import{B as D}from"./Button-BDkok-2I.js";import{D as se}from"./Dialog-B-jFmH1-.js";import{C as H}from"./index-2Mnet4ey.js";import{I as Oe}from"./Input-CGGIPAMy.js";import{u as _e,F as Ae,C as q}from"./index.esm-0Wd5ZTaL.js";import"./FormContainer-CcnkfPvj.js";import{F as V}from"./FormItem-BzCUTsvV.js";import{z as N,t as Me}from"./index-DMQ2Y9Ia.js";import{S as ze}from"./StickyFooter-CcqeJsEO.js";import{t as Fe,N as Pe}from"./toast-CHrgrvAn.js";import{L as He,a as qe,b as Ve,c as Ue,d as $e,e as Ke,f as We}from"./index-CzqeFPSi.js";import{D as U}from"./index-92mjx-Fn.js";import{E as Ge,S as Qe}from"./index-DLKOtp8K.js";import{C as Je}from"./ConfirmDialog-DLSh7DuB.js";import"./Card-CWfRWYfe.js";import"./useMergeRef-Ch7lRZ9Z.js";import"./floating-ui.dom-CV1Qg3mg.js";import"./index-BsIi-NiL.js";import"./proxy-CceN8Kfo.js";import"./classNames-CVFWYafE.js";import"./index-B0EMbVo3.js";import"./index-CLuxvRnD.js";import"./Select-B-WXjZfd.js";import"./extends-DynerIcZ.js";import"./index-BerKXuJv.js";import"./useControllableState-DfqdUqDh.js";import"./_getPrototype-CX1IXfHZ.js";import"./useDebounce-D4jIpCY2.js";import"./debounce-D_S4yuNl.js";import"./isSymbol-DKaeyIQo.js";import"./index-C6AgsrmA.js";import"./index-Chjiymov.js";import"./CloseButton-V3ZvNBNU.js";import"./toString-Db7_635E.js";import"./isNil-BZddQIJL.js";import"./StatusIcon-BDOIg_yW.js";import"./index-BrAlWePZ.js";const j=r=>{const{className:e,disabled:s,active:o,...n}=r;return t.jsx("button",{className:_("tool-button text-xl heading-text hover:text-primary flex items-center p-1.5 rounded-lg",o&&"text-primary",s&&"opacity-20 cursor-not-allowed",e),type:"button",disabled:s,...n})},$=({editor:r,...e})=>t.jsx(j,{title:"Bold",disabled:!r.can().chain().focus().toggleBold().run(),active:r.isActive("bold"),onClick:()=>r.chain().focus().toggleBold().run(),...e,children:t.jsx(be,{})}),K=({editor:r})=>t.jsx(j,{title:"Italic",disabled:!r.can().chain().focus().toggleItalic().run(),active:r.isActive("italic"),onClick:()=>r.chain().focus().toggleItalic().run(),children:t.jsx(Ce,{})}),W=({editor:r})=>t.jsx(j,{title:"Strikethrough",disabled:!r.can().chain().focus().toggleStrike().run(),active:r.isActive("strike"),onClick:()=>r.chain().focus().toggleStrike().run(),children:t.jsx(je,{})}),G=({editor:r})=>t.jsx(j,{title:"Code",disabled:!r.can().chain().focus().toggleCode().run(),active:r.isActive("code"),onClick:()=>r.chain().focus().toggleCode().run(),children:t.jsx(Se,{})}),Q=({editor:r})=>t.jsx(j,{title:"Ordered List",active:r.isActive("orderedList"),onClick:()=>r.chain().focus().toggleOrderedList().run(),children:t.jsx(ye,{})}),J=({editor:r})=>t.jsx(j,{title:"Code Block",active:r.isActive("codeBlock"),onClick:()=>r.chain().focus().toggleCodeBlock().run(),children:t.jsx(De,{})}),X=({editor:r})=>t.jsx(j,{title:"Blockquote",active:r.isActive("blockquote"),onClick:()=>r.chain().focus().toggleBlockquote().run(),children:t.jsx(Ee,{})}),Y=({editor:r})=>t.jsx(j,{title:"Horizontal Rule",onClick:()=>r.chain().focus().setHorizontalRule().run(),children:t.jsx(Te,{})}),R={1:{label:"Heading 1",value:1,icon:t.jsx(qe,{})},2:{label:"Heading 2",value:2,icon:t.jsx(Ve,{})},3:{label:"Heading 3",value:3,icon:t.jsx(Ue,{})},4:{label:"Heading 4",value:4,icon:t.jsx($e,{})},5:{label:"Heading 5",value:5,icon:t.jsx(Ke,{})},6:{label:"Heading 6",value:6,icon:t.jsx(We,{})}},Z=({editor:r,headingLevel:e=[1,2,3,4,5,6]})=>t.jsx(t.Fragment,{children:t.jsx(U,{renderTitle:t.jsx(j,{title:"Heading",children:t.jsx(He,{})}),children:e.map(s=>t.jsxs(U.Item,{eventKey:`heading-${s}`,active:r.isActive("heading",{level:R[s].value}),onClick:()=>r.chain().focus().toggleHeading({level:R[s].value}).run(),children:[t.jsx("span",{className:"text-lg",children:R[s].icon}),R[s].label]},`heading-${s}`))})});function Xe(r){return ie({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9 16h2v4h2V6h2v14h2V6h3V4H9c-3.309 0-6 2.691-6 6s2.691 6 6 6zM9 6h2v8H9c-2.206 0-4-1.794-4-4s1.794-4 4-4z"},child:[]}]})(r)}const Ye=({editor:r})=>t.jsx(j,{title:"Paragraph",active:r.isActive("paragraph"),onClick:()=>r.chain().focus().setParagraph().run(),children:t.jsx(Xe,{})}),Ze=({editor:r})=>t.jsx(j,{title:"Code",disabled:!r.can().chain().focus().undo().run(),onClick:()=>r.chain().focus().undo().run(),children:t.jsx(ae,{})}),et=({editor:r})=>t.jsx(j,{title:"Code",disabled:!r.can().chain().focus().redo().run(),onClick:()=>r.chain().focus().redo().run(),children:t.jsx(le,{})}),ee=({editor:r})=>t.jsx(j,{title:"Bullet List",active:r.isActive("bulletList"),onClick:()=>r.chain().focus().toggleBulletList().run(),children:t.jsx(we,{})});function tt(r){return r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ne={exports:{}},I={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var te;function rt(){if(te)return I;te=1;var r=C;function e(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var s=typeof Object.is=="function"?Object.is:e,o=r.useState,n=r.useEffect,i=r.useLayoutEffect,p=r.useDebugValue;function x(l,c){var g=c(),b=o({inst:{value:g,getSnapshot:c}}),m=b[0].inst,S=b[1];return i(function(){m.value=g,m.getSnapshot=c,f(m)&&S({inst:m})},[l,g,c]),n(function(){return f(m)&&S({inst:m}),l(function(){f(m)&&S({inst:m})})},[l]),p(g),g}function f(l){var c=l.getSnapshot;l=l.value;try{var g=c();return!s(l,g)}catch{return!0}}function a(l,c){return c()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?a:x;return I.useSyncExternalStore=r.useSyncExternalStore!==void 0?r.useSyncExternalStore:d,I}ne.exports=rt();var F=ne.exports;const st=(...r)=>e=>{r.forEach(s=>{typeof s=="function"?s(e):s&&(s.current=e)})},nt=({contentComponent:r})=>{const e=F.useSyncExternalStore(r.subscribe,r.getSnapshot,r.getServerSnapshot);return C.createElement(C.Fragment,null,Object.values(e))};function ot(){const r=new Set;let e={};return{subscribe(s){return r.add(s),()=>{r.delete(s)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(s,o){e={...e,[s]:ce.createPortal(o.reactElement,o.element,s)},r.forEach(n=>n())},removeRenderer(s){const o={...e};delete o[s],e=o,r.forEach(n=>n())}}}class it extends C.Component{constructor(e){var s;super(e),this.editorContentRef=C.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((s=e.editor)===null||s===void 0)&&s.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const s=this.editorContentRef.current;s.append(...e.options.element.childNodes),e.setOptions({element:s}),e.contentComponent=ot(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(o=>o.hasContentComponentInitialized?o:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const s=document.createElement("div");s.append(...e.options.element.childNodes),e.setOptions({element:s})}render(){const{editor:e,innerRef:s,...o}=this.props;return C.createElement(C.Fragment,null,C.createElement("div",{ref:st(s,this.editorContentRef),...o}),(e==null?void 0:e.contentComponent)&&C.createElement(nt,{contentComponent:e.contentComponent}))}}const at=v.forwardRef((r,e)=>{const s=C.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[r.editor]);return C.createElement(it,{key:s,innerRef:e,...r})}),lt=C.memo(at);var ct=function r(e,s){if(e===s)return!0;if(e&&s&&typeof e=="object"&&typeof s=="object"){if(e.constructor!==s.constructor)return!1;var o,n,i;if(Array.isArray(e)){if(o=e.length,o!=s.length)return!1;for(n=o;n--!==0;)if(!r(e[n],s[n]))return!1;return!0}if(e instanceof Map&&s instanceof Map){if(e.size!==s.size)return!1;for(n of e.entries())if(!s.has(n[0]))return!1;for(n of e.entries())if(!r(n[1],s.get(n[0])))return!1;return!0}if(e instanceof Set&&s instanceof Set){if(e.size!==s.size)return!1;for(n of e.entries())if(!s.has(n[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(s)){if(o=e.length,o!=s.length)return!1;for(n=o;n--!==0;)if(e[n]!==s[n])return!1;return!0}if(e.constructor===RegExp)return e.source===s.source&&e.flags===s.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===s.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===s.toString();if(i=Object.keys(e),o=i.length,o!==Object.keys(s).length)return!1;for(n=o;n--!==0;)if(!Object.prototype.hasOwnProperty.call(s,i[n]))return!1;for(n=o;n--!==0;){var p=i[n];if(!(p==="_owner"&&e.$$typeof)&&!r(e[p],s[p]))return!1}return!0}return e!==e&&s!==s},ut=tt(ct),oe={exports:{}},O={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var re;function dt(){if(re)return O;re=1;var r=C,e=F;function s(a,d){return a===d&&(a!==0||1/a===1/d)||a!==a&&d!==d}var o=typeof Object.is=="function"?Object.is:s,n=e.useSyncExternalStore,i=r.useRef,p=r.useEffect,x=r.useMemo,f=r.useDebugValue;return O.useSyncExternalStoreWithSelector=function(a,d,l,c,g){var b=i(null);if(b.current===null){var m={hasValue:!1,value:null};b.current=m}else m=b.current;b=x(function(){function E(y){if(!u){if(u=!0,h=y,y=c(y),g!==void 0&&m.hasValue){var w=m.value;if(g(w,y))return T=w}return T=y}if(w=T,o(h,y))return w;var P=c(y);return g!==void 0&&g(w,P)?w:(h=y,T=P)}var u=!1,h,T,k=l===void 0?null:l;return[function(){return E(d())},k===null?void 0:function(){return E(k())}]},[d,l,c,g]);var S=n(a,b[0],b[1]);return p(function(){m.hasValue=!0,m.value=S},[S]),f(S),S},O}oe.exports=dt();var ht=oe.exports;const mt=typeof window<"u"?v.useLayoutEffect:v.useEffect;class pt{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const s=()=>{this.transactionNumber+=1,this.subscribers.forEach(n=>n())},o=this.editor;return o.on("transaction",s),()=>{o.off("transaction",s)}}}}function ft(r){var e;const[s]=v.useState(()=>new pt(r.editor)),o=ht.useSyncExternalStoreWithSelector(s.subscribe,s.getSnapshot,s.getServerSnapshot,r.selector,(e=r.equalityFn)!==null&&e!==void 0?e:ut);return mt(()=>s.watch(r.editor),[r.editor,s]),v.useDebugValue(o),o}const gt=!1,z=typeof window>"u",xt=z||!!(typeof window<"u"&&window.next);class vt{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(s=>s())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?z||xt?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...o)=>{var n,i;return(i=(n=this.options.current).onBeforeCreate)===null||i===void 0?void 0:i.call(n,...o)},onBlur:(...o)=>{var n,i;return(i=(n=this.options.current).onBlur)===null||i===void 0?void 0:i.call(n,...o)},onCreate:(...o)=>{var n,i;return(i=(n=this.options.current).onCreate)===null||i===void 0?void 0:i.call(n,...o)},onDestroy:(...o)=>{var n,i;return(i=(n=this.options.current).onDestroy)===null||i===void 0?void 0:i.call(n,...o)},onFocus:(...o)=>{var n,i;return(i=(n=this.options.current).onFocus)===null||i===void 0?void 0:i.call(n,...o)},onSelectionUpdate:(...o)=>{var n,i;return(i=(n=this.options.current).onSelectionUpdate)===null||i===void 0?void 0:i.call(n,...o)},onTransaction:(...o)=>{var n,i;return(i=(n=this.options.current).onTransaction)===null||i===void 0?void 0:i.call(n,...o)},onUpdate:(...o)=>{var n,i;return(i=(n=this.options.current).onUpdate)===null||i===void 0?void 0:i.call(n,...o)},onContentError:(...o)=>{var n,i;return(i=(n=this.options.current).onContentError)===null||i===void 0?void 0:i.call(n,...o)},onDrop:(...o)=>{var n,i;return(i=(n=this.options.current).onDrop)===null||i===void 0?void 0:i.call(n,...o)},onPaste:(...o)=>{var n,i;return(i=(n=this.options.current).onPaste)===null||i===void 0?void 0:i.call(n,...o)}};return new Ge(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((o,n)=>o===e[n]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,s=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){s&&s.setOptions(this.options.current);return}s&&!s.isDestroyed&&(s.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function bt(r={},e=[]){const s=v.useRef(r);s.current=r;const[o]=v.useState(()=>new vt(s)),n=F.useSyncExternalStore(o.subscribe,o.getEditor,o.getServerSnapshot);return v.useDebugValue(n),v.useEffect(o.onRender(e)),ft({editor:n,selector:({transactionNumber:i})=>r.shouldRerenderOnTransaction===!1?null:r.immediatelyRender&&i===0?0:i+1}),n}const Ct=v.createContext({editor:null});Ct.Consumer;const jt=v.createContext({onDragStart:void 0}),St=()=>v.useContext(jt);C.forwardRef((r,e)=>{const{onDragStart:s}=St(),o=r.as||"div";return C.createElement(o,{...r,ref:e,"data-node-view-wrapper":"",onDragStart:s,style:{whiteSpace:"normal",...r.style}})});const yt=r=>{const{content:e="",customToolBar:s,invalid:o,onChange:n,editorContentClass:i,customEditor:p,ref:x,...f}=r,a=p||bt({extensions:[Qe.configure({bulletList:{keepMarks:!0},orderedList:{keepMarks:!0}})],editorProps:{attributes:{class:"m-2 focus:outline-none"}},content:e,onUpdate({editor:d}){n==null||n({text:d.getText(),html:d.getHTML(),json:d.getJSON()})}});return a?t.jsxs("div",{className:_("rich-text-editor rounded-xl ring-1 ring-gray-200 dark:ring-gray-600 border border-gray-200 dark:border-gray-600 bg-gray-100 dark:bg-gray-700 pt-3",a.isFocused&&"ring-primary border-primary",o&&"bg-error-subtle",a.isFocused&&o&&"bg-error-subtle ring-error border-error"),children:[t.jsx("div",{className:"flex gap-x-1 gap-y-2 px-2",children:s?s(a,{ToolButtonBold:$,ToolButtonItalic:K,ToolButtonStrike:W,ToolButtonCode:G,ToolButtonBlockquote:X,ToolButtonHeading:Z,ToolButtonBulletList:ee,ToolButtonOrderedList:Q,ToolButtonCodeBlock:J,ToolButtonHorizontalRule:Y,ToolButtonParagraph:Ye,ToolButtonUndo:Ze,ToolButtonRedo:et}):t.jsxs(t.Fragment,{children:[t.jsx($,{editor:a}),t.jsx(K,{editor:a}),t.jsx(W,{editor:a}),t.jsx(G,{editor:a}),t.jsx(X,{editor:a}),t.jsx(Z,{editor:a}),t.jsx(ee,{editor:a}),t.jsx(Q,{editor:a}),t.jsx(J,{editor:a}),t.jsx(Y,{editor:a})]})}),t.jsx(lt,{ref:x,className:_("max-h-[600px] overflow-auto px-2 prose prose-p:text-sm prose-p:dark:text-gray-400 max-w-full",i),editor:a,...f})]}):null},Dt={pageIndex:1,pageSize:10,query:"",sort:{order:"",key:""}},Et={purchasedProducts:"",purchaseChannel:["Retail Stores","Online Retailers","Resellers","Mobile Apps","Direct Sales"]},Tt={tableData:Dt,filterData:Et,selectedCustomer:[]},wt=ue(r=>({...Tt,setFilterData:e=>r(()=>({filterData:e})),setTableData:e=>r(()=>({tableData:e})),setSelectedCustomer:(e,s)=>r(o=>{const n=o.selectedCustomer;return e?{selectedCustomer:[...n,s]}:n.some(i=>s.id===i.id)?{selectedCustomer:n.filter(i=>i.id!==s.id)}:{selectedCustomer:n}}),setSelectAllCustomer:e=>r(()=>({selectedCustomer:e}))}));function L(){const{tableData:r,filterData:e,setTableData:s,selectedCustomer:o,setSelectedCustomer:n,setSelectAllCustomer:i,setFilterData:p}=wt(g=>g),{data:x,error:f,isLoading:a,mutate:d}=ve(["/api/customers",{...r,...e}],([g,b])=>xe(b),{revalidateOnFocus:!1}),l=(x==null?void 0:x.list)||[],c=(x==null?void 0:x.total)||0;return{customerList:l,customerListTotal:c,error:f,isLoading:a,tableData:r,filterData:e,mutate:d,setTableData:s,selectedCustomer:o,setSelectedCustomer:n,setSelectAllCustomer:i,setFilterData:p}}const kt={active:"bg-emerald-200 dark:bg-emerald-200 text-gray-900 dark:text-gray-900",archive:"bg-red-200 dark:bg-red-200 text-gray-900 dark:text-gray-900"},Nt=({row:r})=>t.jsxs("div",{className:"flex items-center",children:[t.jsx(A,{size:40,shape:"circle",src:r.img}),t.jsx(he,{className:"hover:text-primary ml-2 rtl:mr-2 font-semibold text-gray-900 dark:text-gray-100",to:`/employee-details/${r.id}`,children:r.name})]}),Rt=({onEdit:r,onViewDetail:e})=>t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(M,{title:"Edit",children:t.jsx("div",{className:"text-xl cursor-pointer select-none font-semibold",role:"button",onClick:r,children:t.jsx(ke,{})})}),t.jsx(M,{title:"View",children:t.jsx("div",{className:"text-xl cursor-pointer select-none font-semibold",role:"button",onClick:e,children:t.jsx(Ne,{})})})]}),Bt=()=>{const r=de(),{customerList:e,customerListTotal:s,tableData:o,isLoading:n,setTableData:i,setSelectAllCustomer:p,setSelectedCustomer:x,selectedCustomer:f}=L(),a=u=>{r(`/employee-edit/${u.id}`)},d=u=>{r(`/employee-details/${u.id}`)},l=v.useMemo(()=>[{header:"Name",accessorKey:"name",cell:u=>{const h=u.row.original;return t.jsx(Nt,{row:h})}},{header:"Email",accessorKey:"email"},{header:"location",accessorKey:"personalInfo.location"},{header:"Status",accessorKey:"status",cell:u=>{const h=u.row.original;return t.jsx("div",{className:"flex items-center",children:t.jsx(fe,{className:kt[h.status],children:t.jsx("span",{className:"capitalize",children:h.status})})})}},{header:"Spent",accessorKey:"totalSpending",cell:u=>t.jsxs("span",{children:["$",u.row.original.totalSpending]})},{header:"",id:"action",cell:u=>t.jsx(Rt,{onEdit:()=>a(u.row.original),onViewDetail:()=>d(u.row.original)})}],[]),c=u=>{i(u),f.length>0&&p([])},g=u=>{const h=B(o);h.pageIndex=u,c(h)},b=u=>{const h=B(o);h.pageSize=Number(u),h.pageIndex=1,c(h)},m=u=>{const h=B(o);h.sort=u,c(h)},S=(u,h)=>{x(u,h)},E=(u,h)=>{if(u){const T=h.map(k=>k.original);p(T)}else p([])};return t.jsx(ge,{selectable:!0,columns:l,data:e,noData:!n&&e.length===0,skeletonAvatarColumns:[0],skeletonAvatarProps:{width:28,height:28},loading:n,pagingData:{total:s,pageIndex:o.pageIndex,pageSize:o.pageSize},checkboxChecked:u=>f.some(h=>h.id===u.id),onPaginationChange:g,onSelectChange:b,onSort:m,onCheckBoxChange:S,onIndeterminateCheckBoxChange:E})},Lt=r=>{const{onInputChange:e,ref:s}=r;return t.jsx(Ie,{ref:s,placeholder:"Quick search...",suffix:t.jsx(Re,{className:"text-lg"}),onChange:o=>e(o.target.value)})},It=["Retail Stores","Online Retailers","Resellers","Mobile Apps","Direct Sales"],Ot=N.object({purchasedProducts:N.string(),purchaseChannel:N.array(N.string())}),_t=()=>{const[r,e]=v.useState(!1),{filterData:s,setFilterData:o}=L(),n=()=>{e(!0)},i=()=>{e(!1)},{handleSubmit:p,reset:x,control:f}=_e({defaultValues:s,resolver:Me(Ot)}),a=d=>{o(d),e(!1)};return t.jsxs(t.Fragment,{children:[t.jsx(D,{icon:t.jsx(Be,{}),onClick:()=>n(),children:"Filter"}),t.jsxs(se,{isOpen:r,onClose:i,onRequestClose:i,children:[t.jsx("h4",{className:"mb-4",children:"Filter"}),t.jsxs(Ae,{onSubmit:p(a),children:[t.jsx(V,{label:"Products",children:t.jsx(q,{name:"purchasedProducts",control:f,render:({field:d})=>t.jsx(Oe,{type:"text",autoComplete:"off",placeholder:"Search by purchased product",...d})})}),t.jsx(V,{label:"Purchase Channel",children:t.jsx(q,{name:"purchaseChannel",control:f,render:({field:d})=>t.jsx(H.Group,{vertical:!0,className:"flex mt-4",...d,children:It.map((l,c)=>t.jsx(H,{name:d.name,value:l,className:"justify-between flex-row-reverse heading-text",children:l},l+c))})})}),t.jsxs("div",{className:"flex justify-end items-center gap-2 mt-4",children:[t.jsx(D,{type:"button",onClick:()=>x(),children:"Reset"}),t.jsx(D,{type:"submit",variant:"solid",children:"Apply"})]})]})]})]})},At=()=>{const{tableData:r,setTableData:e}=L(),s=o=>{const n=B(r);n.query=o,n.pageIndex=1,typeof o=="string"&&o.length>1&&e(n),typeof o=="string"&&o.length===0&&e(n)};return t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[t.jsx(Lt,{onInputChange:s}),t.jsx(_t,{})]})},Mt=()=>{const{selectedCustomer:r,customerList:e,mutate:s,customerListTotal:o,setSelectAllCustomer:n}=L(),[i,p]=v.useState(!1),[x,f]=v.useState(!1),[a,d]=v.useState(!1),l=()=>{p(!0)},c=()=>{p(!1)},g=()=>{const m=e.filter(S=>!r.some(E=>E.id===S.id));n([]),s({list:m,total:o-r.length},!1),p(!1)},b=()=>{d(!0),setTimeout(()=>{Fe.push(t.jsx(Pe,{type:"success",children:"Message sent!"}),{placement:"top-center"}),d(!1),f(!1),n([])},500)};return t.jsxs(t.Fragment,{children:[r.length>0&&t.jsx(ze,{className:" flex items-center justify-between py-4 bg-white dark:bg-gray-800",stickyClass:"-mx-4 sm:-mx-8 border-t border-gray-200 dark:border-gray-700 px-8",defaultClass:"container mx-auto px-8 rounded-xl border border-gray-200 dark:border-gray-600 mt-4",children:t.jsx("div",{className:"container mx-auto",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:r.length>0&&t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-lg text-primary",children:t.jsx(Le,{})}),t.jsxs("span",{className:"font-semibold flex items-center gap-1",children:[t.jsxs("span",{className:"heading-text",children:[r.length," ","Customers"]}),t.jsx("span",{children:"selected"})]})]})}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(D,{size:"sm",className:"ltr:mr-3 rtl:ml-3",type:"button",customColorClass:()=>"border-error ring-1 ring-error text-error hover:border-error hover:ring-error hover:text-error",onClick:l,children:"Delete"}),t.jsx(D,{size:"sm",variant:"solid",onClick:()=>f(!0),children:"Message"})]})]})})}),t.jsx(Je,{isOpen:i,type:"danger",title:"Remove customers",onClose:c,onRequestClose:c,onCancel:c,onConfirm:g,children:t.jsxs("p",{children:[" ","Are you sure you want to remove these customers? This action can't be undo."," "]})}),t.jsxs(se,{isOpen:x,onRequestClose:()=>f(!1),onClose:()=>f(!1),children:[t.jsx("h5",{className:"mb-2",children:"Send Message"}),t.jsx("p",{children:"Send message to the following customers"}),t.jsx(A.Group,{chained:!0,omittedAvatarTooltip:!0,className:"mt-4",maxCount:4,omittedAvatarProps:{size:30},children:r.map(m=>t.jsx(M,{title:m.name,children:t.jsx(A,{size:30,src:m.img,alt:""})},m.id))}),t.jsx("div",{className:"my-4",children:t.jsx(yt,{content:""})}),t.jsxs("div",{className:"ltr:justify-end flex items-center gap-2",children:[t.jsx(D,{size:"sm",onClick:()=>f(!1),children:"Cancel"}),t.jsx(D,{size:"sm",variant:"solid",loading:a,onClick:b,children:"Send"})]})]})]})},Br=()=>t.jsxs(t.Fragment,{children:[t.jsx(me,{children:t.jsx(pe,{children:t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:t.jsx("h3",{children:"Leaves of Absence"})}),t.jsx(At,{}),t.jsx(Bt,{})]})})}),t.jsx(Mt,{})]});export{Br as default};
