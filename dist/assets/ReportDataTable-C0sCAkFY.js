import{a,j as t,Z as E,y as O}from"./index-D0yRYkRK.js";import{T as R}from"./index-B0EMbVo3.js";import{P as L}from"./cloneDeep-6-NADjKH.js";import{S as V}from"./Select-B-WXjZfd.js";import{u as W,f as b,T as Z,F as $,g as q,a as G,b as J,c as K}from"./index-BerKXuJv.js";const{Tr:u,Th:Q,Td:v,THead:U,TBody:X,Sorter:Y}=R;function re(w){const{skeletonAvatarColumns:T,columns:x=[],data:r=[],customNoDataIcon:p,loading:s,noData:k,onCheckBoxChange:_,onIndeterminateCheckBoxChange:ee,onPaginationChange:i,onSelectChange:c,onSort:d,pageSizes:h=[10,25,50,100],selectable:f=!1,skeletonAvatarProps:M,pagingData:S={total:0,pageIndex:1,pageSize:10},checkboxChecked:P,indeterminateCheckboxChecked:te,instanceId:N="data-table",ref:y,...I}=w,{pageSize:g,pageIndex:z,total:D}=S,[o,F]=a.useState(null),j=a.useMemo(()=>h.map(e=>({value:e,label:`${e} / page`})),[h]);a.useEffect(()=>{if(Array.isArray(o)){const e=o.length>0?o[0].desc?"desc":"asc":"",n=o.length>0?o[0].id:"";d==null||d({order:e,key:n})}},[o]);const m=a.useMemo(()=>{const e=x;return f?[...e]:e},[x,f,s,P]),l=W({data:r,columns:m,getCoreRowModel:q(),getFilteredRowModel:G(),getPaginationRowModel:J(),getSortedRowModel:K(),manualPagination:!0,manualSorting:!0,onSortingChange:e=>{F(e)},state:{sorting:o}}),A=()=>{l.resetSorting()},C=()=>{l.resetRowSelection(!0)};a.useImperativeHandle(y,()=>({resetSorting:A,resetSelected:C}));const B=e=>{s||(C(),i==null||i(e))},H=e=>{s||c==null||c(Number(e))};return t.jsxs(E,{loading:!!(s&&r.length!==0),type:"cover",children:[t.jsxs(R,{...I,children:[t.jsx(U,{children:l.getHeaderGroups().map(e=>t.jsx(u,{children:e.headers.map(n=>t.jsx(Q,{colSpan:n.colSpan,children:n.isPlaceholder?null:t.jsxs("div",{className:O(n.column.getCanSort()&&"cursor-pointer select-none point",s&&"pointer-events-none"),onClick:n.column.getToggleSortingHandler(),children:[b(n.column.columnDef.header,n.getContext()),n.column.getCanSort()&&t.jsx(Y,{sort:n.column.getIsSorted()})]})},n.id))},e.id))}),s&&r.length===0?t.jsx(Z,{columns:m.length,rows:S.pageSize,avatarInColumns:T,avatarProps:M}):t.jsx(X,{children:k?t.jsx(u,{children:t.jsx(v,{className:"hover:bg-transparent",colSpan:m.length,children:t.jsx("div",{className:"flex flex-col items-center gap-4",children:p||t.jsxs(t.Fragment,{children:[t.jsx($,{}),t.jsx("span",{className:"font-semibold",children:"No data found!"})]})})})}):l.getRowModel().rows.slice(0,g).map(e=>t.jsx(u,{children:e.getVisibleCells().map(n=>t.jsx(v,{style:{width:n.column.getSize()},children:b(n.column.columnDef.cell,n.getContext())},n.id))},e.id))})]}),t.jsxs("div",{className:"flex items-center justify-between mt-4",children:[t.jsx(L,{pageSize:g,currentPage:z,total:D,onChange:B}),t.jsx("div",{style:{minWidth:130},children:t.jsx(V,{instanceId:N,size:"sm",menuPlacement:"top",isSearchable:!1,value:j.filter(e=>e.value===g),options:j,onChange:e=>H(e==null?void 0:e.value)})})]})]})}export{re as R};
