import{W as y,a as n,X as b,j as t,R as S}from"./index-D0yRYkRK.js";import{B as m}from"./Button-BDkok-2I.js";import{t as p,N as c}from"./toast-CHrgrvAn.js";import{S as w}from"./ScheduleForm-DGkTMXpF.js";import{C as v}from"./ConfirmDialog-DLSh7DuB.js";import{s as l}from"./sleep-BvINh1mj.js";import{i as N}from"./index-BF8ULv3O.js";import"./classNames-CVFWYafE.js";import"./StatusIcon-BDOIg_yW.js";import"./CloseButton-V3ZvNBNU.js";import"./proxy-CceN8Kfo.js";import"./index.esm-0Wd5ZTaL.js";import"./FormContainer-CcnkfPvj.js";import"./BottomStickyBar-B9Gkuokk.js";import"./Card-CWfRWYfe.js";import"./Select-B-WXjZfd.js";import"./extends-DynerIcZ.js";import"./floating-ui.dom-CV1Qg3mg.js";import"./FormItem-BzCUTsvV.js";import"./index-BsIi-NiL.js";import"./index-BAiP7mQm.js";import"./useMergeRef-Ch7lRZ9Z.js";import"./index-2Mnet4ey.js";import"./cloneDeep-6-NADjKH.js";import"./useControllableState-DfqdUqDh.js";import"./_getPrototype-CX1IXfHZ.js";import"./isSymbol-DKaeyIQo.js";import"./toString-Db7_635E.js";import"./FileItem-BgKRNRi7.js";import"./DatePickerRange-DFku8Lpw.js";import"./Input-CGGIPAMy.js";import"./isNil-BZddQIJL.js";import"./index-92mjx-Fn.js";import"./index-BrAlWePZ.js";import"./Dialog-B-jFmH1-.js";import"./index-C6AgsrmA.js";import"./index-Chjiymov.js";import"./Drawer-CnBtluTf.js";import"./index-DUpuQ3pa.js";import"./index-4hbIhcSA.js";import"./index-B0EMbVo3.js";import"./index-CLuxvRnD.js";import"./index-CI41wOCL.js";import"./context-CCEg-Yz5.js";import"./debounce-D_S4yuNl.js";import"./NumericInput-Buu8NxfF.js";import"./index-DLKOtp8K.js";import"./employeeService-8m6wHAGi.js";import"./format-BzRktsyD.js";import"./index-DMQ2Y9Ia.js";const D="http://localhost:5000",wt=()=>{const d=y(),[u,r]=n.useState(!1),[h,e]=n.useState(!1),{token:i}=b(),f=async s=>{console.log("Submitted values",s),e(!0);const a=await fetch(`${D}/api/schedule/create_schedule`,{method:"POST",headers:{"Content-Type":"application/json",...i?{Authorization:`Bearer ${i}`}:{}},body:JSON.stringify(s)}),g=await a.json(),C=a.ok?"success":"warning";await l(700),e(!1),p.push(t.jsx(c,{type:C,children:g.message}),{placement:"top-center"}),await l(700),window.location.href="/schedule"},x=()=>{r(!0),p.push(t.jsx(c,{type:"success",children:"Schedule discardd!"}),{placement:"top-center"}),d("/schedule")},j=()=>{r(!0)},o=()=>{r(!1)};return t.jsxs(t.Fragment,{children:[t.jsx(w,{newSchedule:!0,defaultValues:{employee:"",start_time:"",off_time:"",from:"",to:"",total_hours:"",rest_days:[]},onFormSubmit:f,children:t.jsx(S,{children:t.jsxs("div",{className:"flex items-center justify-between px-8",children:[t.jsx("span",{}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(m,{className:"ltr:mr-3 rtl:ml-3",type:"button",customColorClass:()=>"border-error ring-1 ring-error text-error hover:border-error hover:ring-error hover:text-error bg-transparent",icon:t.jsx(N,{}),onClick:j,children:"Discard"}),t.jsx(m,{variant:"solid",type:"submit",loading:h,children:"Create"})]})]})})}),t.jsx(v,{isOpen:u,type:"danger",title:"Discard changes",onClose:o,onRequestClose:o,onCancel:o,onConfirm:x,children:t.jsxs("p",{children:["Are you sure you want discard this? This action can't be undo."," "]})})]})};export{wt as default};
