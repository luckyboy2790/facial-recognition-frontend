import{j as t,b as _,a as x,a5 as w}from"./index-D0yRYkRK.js";import{M as g}from"./index-4hbIhcSA.js";import{T as P}from"./index-BAiP7mQm.js";import{n as T,A as d,a as S,u as D,N as F,c as L,d as Y,p as $}from"./QuickAccessDropdown-Bfe4MQ_9.js";import{D as C}from"./index-92mjx-Fn.js";const K=({icon:e})=>typeof e!="string"&&!e?t.jsx(t.Fragment,{}):t.jsx(t.Fragment,{children:T[e]&&t.jsx("span",{className:"text-2xl",children:T[e]})}),{MenuItem:B}=g,G=({nav:e,children:s,direction:i,renderAsIcon:a,onLinkClick:l,userAuthority:c,t:o,currentKey:u})=>t.jsx(d,{userAuthority:c,authority:e.authority,children:a?t.jsx(P,{title:o(e.translateKey,e.title),placement:i==="rtl"?"left":"right",children:s}):t.jsx(C.Item,{active:u===e.key,children:e.path?t.jsx(_,{className:"h-full w-full flex items-center outline-none",to:e.path,target:e.isExternalLink?"_blank":"",onClick:()=>l==null?void 0:l({key:e.key,title:e.title,path:e.path}),children:t.jsx("span",{children:o(e.translateKey,e.title)})}):t.jsx("span",{children:o(e.translateKey,e.title)})})}),b=e=>{const{nav:s,onLinkClick:i,showTitle:a,indent:l,showIcon:c=!0,userAuthority:o,t:u}=e;return t.jsx(d,{userAuthority:o,authority:s.authority,children:t.jsx(B,{eventKey:s.key,dotIndent:l,children:t.jsxs(_,{to:s.path,className:"flex items-center gap-2 h-full w-full",target:s.isExternalLink?"_blank":"",onClick:()=>i==null?void 0:i({key:s.key,title:s.title,path:s.path}),children:[c&&t.jsx(K,{icon:s.icon}),a&&t.jsx("span",{children:u(s.translateKey,s.title)})]})},s.key)})},O=({nav:e,onLinkClick:s,sideCollapsed:i,direction:a,indent:l,renderAsIcon:c,userAuthority:o,showIcon:u,showTitle:h,t:y,currentKey:I,parentKeys:M})=>t.jsx(t.Fragment,{children:i?t.jsx(G,{currentKey:I,parentKeys:M,nav:e,direction:a,renderAsIcon:c,userAuthority:o,t:y,onLinkClick:s,children:t.jsx(b,{nav:e,sideCollapsed:i,userAuthority:o,showIcon:u,showTitle:h,t:y,onLinkClick:s})}):t.jsx(b,{nav:e,sideCollapsed:i,userAuthority:o,showIcon:u,showTitle:h,indent:l,t:y,onLinkClick:s})}),{MenuItem:X,MenuCollapse:q}=g,z=({nav:e,indent:s,dotIndent:i,children:a,userAuthority:l,t:c})=>t.jsx(d,{userAuthority:l,authority:e.authority,children:t.jsx(q,{label:t.jsxs(t.Fragment,{children:[t.jsx(K,{icon:e.icon}),t.jsx("span",{children:c(e.translateKey,e.title)})]}),eventKey:e.key,expanded:!1,dotIndent:i,indent:s,children:a},e.key)}),H=({nav:e,direction:s,children:i,t:a,renderAsIcon:l,userAuthority:c,parentKeys:o})=>{const u=t.jsx(X,{isActive:o==null?void 0:o.includes(e.key),eventKey:e.key,className:"mb-2",children:t.jsx(K,{icon:e.icon})},e.key),h=t.jsx("div",{children:a(e.translateKey,e.title)},e.key);return t.jsx(d,{userAuthority:c,authority:e.authority,children:t.jsx(C,{trigger:"hover",renderTitle:l?u:h,placement:s==="rtl"?"left-start":"right-start",children:i})})},J=({sideCollapsed:e,...s})=>e?t.jsx(H,{...s}):t.jsx(z,{...s}),{MenuGroup:Q}=g,E=2,ee=e=>{const{collapsed:s,routeKey:i,navigationTree:a=[],onMenuItemClick:l,direction:c=w.direction,translationSetup:o,userAuthority:u}=e,{t:h}=S(!o),[y,I]=x.useState([]),[M,k]=x.useState(!1),{activedRoute:r}=D(a,i);x.useEffect(()=>{r!=null&&r.parentKey&&I([r==null?void 0:r.parentKey])},[r==null?void 0:r.parentKey]);const N=()=>{l==null||l()},m=(j,p=0,V)=>{const f=p+1;return t.jsx(t.Fragment,{children:j.map(n=>t.jsxs(x.Fragment,{children:[n.type===F&&t.jsx(O,{currentKey:r==null?void 0:r.key,parentKeys:y,nav:n,sideCollapsed:s,direction:c,indent:V,renderAsIcon:p<=0,showIcon:p<=0,userAuthority:u,showTitle:s?p>=1:p<=E,t:h,onLinkClick:N},n.key),n.type===L&&t.jsx(J,{currentKey:r==null?void 0:r.key,parentKeys:y,nav:n,sideCollapsed:s,direction:c,indent:f>=E,dotIndent:f>=E,renderAsIcon:f<=1,userAuthority:u,t:h,onLinkClick:l,children:n.subMenu&&n.subMenu.length>0&&m(n.subMenu,f,!0)},n.key),n.type===Y&&t.jsx(d,{userAuthority:u,authority:n.authority,children:t.jsx(Q,{label:h(n.translateKey)||n.title,children:n.subMenu&&n.subMenu.length>0&&m(n.subMenu,p,!1)},n.key)})]},n.key))})},A=()=>{const j=window.location.pathname.split("/").filter(Boolean);return j.length>0&&j[0]==="personal"};return x.useEffect(()=>{console.log(A()),A()?k(!0):k(!1)},[]),t.jsx(g,{className:"px-4 pb-4",sideCollapsed:s,defaultActiveKeys:r!=null&&r.key?[r.key]:[],defaultExpandedKeys:y,defaultCollapseActiveKeys:r!=null&&r.parentKey?[r.parentKey]:[],children:m(M?$:a,0)})};export{ee as V};
