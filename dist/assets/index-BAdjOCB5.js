import{V as v,j as e,a as N}from"./index-D0yRYkRK.js";import{u as D}from"./index-x4T1Tg8z.js";import{C as T}from"./Card-CWfRWYfe.js";import{e as y,a as C,j as M}from"./index-CLuxvRnD.js";import{T as h}from"./index-B0EMbVo3.js";import{D as O,C as j,P as u,T as I,r as w,a as R}from"./dnd.esm-pCW07HRg.js";import{M as f}from"./index-CCoyYf6q.js";import{a as P}from"./employeeService-8m6wHAGi.js";import"./classNames-CVFWYafE.js";import"./extends-DynerIcZ.js";const E={groups:{},ordered:[],boardMembers:[],allMembers:[]},b=v(s=>({...E,updateOrdered:r=>s(()=>({ordered:r})),updateGroups:r=>s(()=>({groups:r})),updateBoardMembers:r=>s(()=>({boardMembers:r})),updateAllMembers:r=>s(()=>({allMembers:r}))})),{TBody:F}=h,L=()=>{const{updateOrdered:s,updateGroups:r,ordered:t,groups:x}=b(),g=a=>{if(a.combine){if(a.type==="COLUMN"){const i=[...t];i.splice(a.source.index,1),s(i);return}const p=[...x[a.source.droppableId]];p.splice(a.source.index,1);const l={...x,[a.source.droppableId]:p};r(l);return}if(!a.destination)return;const n=a.source,d=a.destination;if(n.droppableId===d.droppableId&&n.index===d.index)return;if(a.type==="COLUMN"){const c=w(t,n.index,d.index);s(c);return}const o=R({quoteMap:x,source:n,destination:d});r(o.quoteMap)};return e.jsx(e.Fragment,{children:e.jsx(O,{onDragEnd:a=>g(a),children:e.jsx(j,{droppableId:"board",type:"COLUMN",direction:"vertical",children:a=>e.jsx("div",{ref:a.innerRef,...a.droppableProps,children:e.jsxs("div",{className:"flex flex-col gap-10",children:[t.map((n,d)=>e.jsx(u,{draggableId:n,index:d,children:o=>e.jsxs("div",{ref:o.innerRef,...o.draggableProps,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("span",{className:"text-lg",...o.dragHandleProps,children:e.jsx(f,{})}),e.jsx("h4",{children:n})]}),e.jsx(h,{className:"lg:overflow-hidden",children:e.jsx(j,{droppableId:n,type:"CONTENT",children:c=>{var p;return e.jsxs(F,{ref:c.innerRef,...c.droppableProps,children:[(p=x[n])==null?void 0:p.map((l,i)=>e.jsx(u,{draggableId:l.id+i,index:i,children:m=>e.jsx(I,{ref:m.innerRef,type:n,taskId:l.id,checked:l.checked,name:l.name,itemType:l.itemType,dueDate:l.dueDate,position:l.position,startDate:l.startDate,recentAbsenceDate:l.recentAbsenceDate,dragger:e.jsx("span",{...m.dragHandleProps,children:e.jsx(f,{})}),...m.draggableProps})},l.id+i)),c.placeholder]})}})})]})},n)),a.placeholder]})})})})})},S=[{id:1,tabTitle:"employees",label1:"Regular",value1:7,label2:"Trainee",value2:2,icon:e.jsx(y,{})},{id:2,tabTitle:"attendances",label1:"Online",value1:0,label2:"Offline",value2:21,icon:e.jsx(C,{})},{id:3,tabTitle:"leaves of absence",label1:"Approved",value1:0,label2:"Pending",value2:0,icon:e.jsx(M,{})}],A=()=>e.jsxs("div",{children:[e.jsx("div",{className:"mt-8",children:e.jsx("div",{className:"grid lg:grid-cols-2 xl:grid-cols-3 gap-6",children:S.map(s=>e.jsxs(T,{bodyClass:"h-full flex gap-8",children:[e.jsx("div",{className:"flex justify-center items-center text-7xl",children:s.icon}),e.jsxs("div",{className:"flex flex-col justify-between h-full grow",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("h6",{className:"font-bold hover:text-primary",children:s.tabTitle})}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"mt-4",children:s.label1}),e.jsx("p",{className:"mt-4",children:s.value1})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"mt-4",children:s.label2}),e.jsx("p",{className:"mt-4",children:s.value2})]})]})]},s.id))})}),e.jsx("div",{className:"mt-8",children:e.jsx(L,{})})]}),k=()=>(N.useState(!1),e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex items-center justify-between gap-4",children:e.jsx("h3",{children:"Projects"})})})),J=()=>{const{updateOrdered:s,updateGroups:r}=b();return D(["/api/projects/tasks"],()=>P(),{revalidateOnFocus:!1,revalidateIfStale:!1,revalidateOnReconnect:!1,onSuccess:t=>{s(Object.keys(t)),r(t)}}),e.jsxs("div",{children:[e.jsx(k,{}),e.jsx(A,{})]})};export{J as default};
